@page
@model MyApp.Namespace.LoginModel
@{
}



<!-- banner -->
        <div class="banner-bg-inner">
            <!-- banner-text -->
            <div class="banner-text-inner">
                <div class="container">
                    <h2 class="title-inner">
                        world of reading
                    </h2>

                </div>
            </div>
            <!-- //banner-text -->
        </div>
        <!-- //banner -->
        <!-- breadcrumbs -->
        <div class="crumbs text-center">
            <div class="container">
                <div class="row">
                    <ul class="btn-group btn-breadcrumb bc-list">
                        <li class="btn btn1">
                            <a href="index.html">
                                <i class="glyphicon glyphicon-home"></i>
                            </a>
                        </li>
                        <li class="btn btn2">
                            <a href="login.html">sign in & sign up</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!--//breadcrumbs ends here-->
        <!-- signin and signup form -->
        
        <div class="login-form section text-center">
            <div class="container">
                <h4 class="rad-txt">
                    <span class="abtxt1">Sign in</span>
                    <span class="abtext">sign up</span>
                </h4>
                <div id="loginbox" style="margin-top:30px;" class="mainbox  loginbox">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <div class="panel-title">Sign In</div>
                            <div class="fpassword">
                                <a href="#">Forgot password?</a>
                            </div>
                        </div>
                        <div style="padding-top:30px" class="panel-body">
                            <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                            <form id="loginform" class="form-horizontal" method="post">
                                <div style="margin-bottom: 25px" class="input-group">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-user"></i>
                                    </span>
                                    <input id="login-username" type="text" class="form-control" value="" placeholder="username or email" required="" asp-for="email">
                                </div>

                                <div style="margin-bottom: 25px" class="input-group">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-lock"></i>
                                    </span>
                                    <input id="login-password" type="password" class="form-control" placeholder="password" required="" asp-for="password">
                                </div>
                                <div class="input-group">
                                    <div class="checkbox">
                                        <label>
                                            <input id="login-remember" type="checkbox" name="remember" value="1"> Remember me
                                        </label>
                                    </div>
                                </div>
                                <span class="error">@Model.ErrorMessage</span>
                                <div style="margin-top:10px" class="form-group">
                                    <!-- Button -->
                                    <div class="col-sm-12 controls">
                                        <input type="submit" id="btn-login" value="Login" asp-page-handler="Login" class="btn btn-success">
                                        <!--<a type="submit" id="btn-login" asp-page-handler="Login" class="btn btn-success">Login </a> -->
                                        <!-- <a id="btn-fblogin" href="#" class="btn btn-primary">Login with Facebook</a> -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-12 control">
                                        <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%">
                                            Don't have an account!
                                            <a href="#" onClick="$('#loginbox').hide(); $('#signupbox').show()">
                                                Sign Up Here
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div id="signupbox" style="display:none; margin-top:50px" class="mainbox loginbox">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <div class="panel-title">Sign Up</div>
                            <div style="float:right; font-size: 85%; position: relative; top:-10px">
                                <a id="signinlink" href="#" onclick="$('#signupbox').hide(); $('#loginbox').show()">Sign In</a>
                            </div>
                        </div>
                        <div class="panel-body">
                            <form id="signupform" class="form-horizontal" method="post">
                                <div id="signupalert" style="display:none" class="alert alert-danger">
                                    <p>Error:</p>
                                    <span></span>
                                </div>
                                <div class="form-group" style="margin-bottom: 0px;">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Email</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" id="email" class="form-control" placeholder="Email Address" asp-for="newEmail">
                                        <label class="error error-hidden" style="visibility: hidden;">Please enter a valid email address.</label>
                                        <label class="error">@Model.ErrorMessage2</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">First Name</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" class="form-control" placeholder="First Name" required="" asp-for="newFirstName">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Last Name</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" class="form-control" placeholder="Last Name" required="" asp-for="newLastName">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">City</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" class="form-control" placeholder="City" required="" asp-for="newCity">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Address</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" class="form-control" placeholder="Address" required="" asp-for="newAddress">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Phone Number</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="text" class="form-control" placeholder="Phone Number" required="" asp-for="newPhoneNumber">
                                    </div>
                                </div>
                                <div>
                                <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Password</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="password" id="password" class="form-control" placeholder="Password" required="" asp-for="newPassword">
                                        <!--<label class="error" style="visibility: hidden;">This field is required.</label>-->
                                    </div>
                                </div>
                                <div class="form-group" style="margin-bottom: 0px;">
                                    <label class="col-md-3 col-sm-3 col-xs-3 control-label">Confirm Password</label>
                                    <div class="col-md-9 col-sm-9 col-xs-9">
                                        <input type="password" id="confirm_password" class="form-control" placeholder="Confirm Password" required="">
                                        <label class="error" style="visibility: hidden;">This field is required.</label>
                                    </div>
                                </div>
                                </div>
                                
                                <div class="form-group">
                                    <!-- Button -->
                                    <div class="signup-btn">
                                        <input type="submit" id="btn-signup" value="Sign Up" asp-page-handler="SignUp" class="btn btn-info">
                                        <!--<button id="btn-signup" type="button" class="btn btn-info">
                                            <i class="icon-hand-right"></i> &nbsp; Sign Up</button> -->
                                    </div>
                                </div>
                                <div style="border-top: 1px solid #999; padding-top:20px" class="form-group">

                                    <div class="f-btn">
                                        <button id="btn-fbsignup" type="button" class="btn btn-primary">
                                            <i class="icon-facebook"></i>   Sign Up with Facebook</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <!--//signin and signup form ends here-->
<script src="js/validateEmail.js"></script>
<script>
function emailError()
{
	let email=document.querySelector("#email");
	if(validateEmail(email.value))
	{
		email.parentElement.querySelector(".error").style.visibility="hidden";
		return false;
	}
	else
	{
							
		email.parentElement.querySelector(".error").style.visibility="visible";
		return true;
	}
}

function passwordError(passID)
{
	let pass=document.querySelector("#password");
	let cpass=document.querySelector("#confirm_password");
	if(document.querySelector("#"+passID).value==""||document.querySelector("#"+passID).value.length<5)
	{	
		document.querySelector("#"+passID).parentElement.parentElement.parentElement.querySelector(".error").innerHTML="Password must be at least 5 characters long";	
		document.querySelector("#"+passID).parentElement.parentElement.parentElement.querySelector(".error").style.visibility="visible";
		return true;
	}
	else 
	if(pass.value!=cpass.value)
	{
		document.querySelector("#"+passID).parentElement.parentElement.parentElement.querySelector(".error").innerHTML="Passwords do not match";	
		document.querySelector("#"+passID).parentElement.parentElement.parentElement.querySelector(".error").style.visibility="visible";
		return true;
	}
	else
	{
		pass.parentElement.parentElement.parentElement.querySelector(".error").innerHTML="Password must be at least 5 characters long";	
		pass.parentElement.parentElement.parentElement.querySelector(".error").style.visibility="hidden";
		cpass.parentElement.parentElement.parentElement.querySelector(".error").innerHTML="Password must be at least 5 characters long";	
		cpass.parentElement.parentElement.parentElement.querySelector(".error").style.visibility="hidden";
		return false;
    }
}

element=document.querySelector("#email");
element.onfocus=function()
{	
	this.onblur=()=>{ emailError();}
}
element.oninput=function(e)
{
	emailError();
}

element=document.querySelector("#password");
element.onfocus=function()
{	
	this.onblur=()=>{ passwordError("password");}
}
element.oninput=function(e)
{
	passwordError("password");
}  
element=document.querySelector("#confirm_password");
element.onfocus=function()
{	
	this.onblur=()=>{ passwordError("confirm_password");}
}
element.oninput=function(e)
{
	passwordError("confirm_password");
}

document.querySelector("#signupform").onsubmit=()=>
{
    let error=false;
    if(emailError())
		error=true;
    if(passwordError("password"))
		error=true;
	if(passwordError("confirm_password"))
		error=true;

    if(error)
	{
		return false;
	}
	return true;
}
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    var b = @Model.WhatToShow;
    if(b)
    {
        $('#loginbox').show(); 
        $('#signupbox').hide();
    }
    else
    {
        $('#loginbox').hide(); 
        $('#signupbox').show();
    }
</script>